service: griffin-util2-service


provider:
  name: aws
  memorySize: 128

functions:
  GetLiveStatus:
    handler: src/getLiveStatus.handler
    memorySize: 256
    timeout: 30
    layers:
      - ${param:ytdlpArn}
    events:
      - http:
          path: /getLiveStatusFromYoutube/{username}
          method: get
          cors: true
    
  GetLiveIndex:
    handler: src/getliveindex.handler
    memorySize: 256
    timeout: 30
    layers:
      - ${param:ytdlpArn}
    events:
      - http:
          path: /getLiveIndex/{username}
          method: post
          cors: true
plugins:
  - serverless-prune-plugin


custom:
  prune:
    automatic: true
    number: 3